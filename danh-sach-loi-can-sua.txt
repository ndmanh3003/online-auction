DANH SÃCH Lá»–I Cáº¦N Sá»¬A - ONLINE AUCTION SYSTEM
================================================================================
NgÃ y: 19/12/2024
Tá»•ng há»£p: 20 lá»—i (10 lá»—i tá»« phÃ¢n tÃ­ch chi tiáº¿t + 10 lá»—i má»›i phÃ¡t hiá»‡n)
================================================================================

ğŸ“Š THá»NG KÃŠ Æ¯U TIÃŠN:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ”´ CRITICAL (Pháº£i sá»­a ngay):          7 lá»—i - Máº¥t 5.0-7.0 Ä‘iá»ƒm
ğŸŸ¡ MEDIUM (NÃªn sá»­a):                  9 lá»—i - Máº¥t 2.1-3.3 Ä‘iá»ƒm
ğŸŸ¢ LOW (Cáº£i thiá»‡n):                   4 lá»—i - Máº¥t 0.5-0.8 Ä‘iá»ƒm
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’€ Tá»”NG Máº¤T ÄIá»‚M Æ¯á»šC TÃNH:            7.6 - 11.1 Ä‘iá»ƒm (trÃªn 10)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

================================================================================
PHáº¦N 1: Lá»–I CRITICAL - PHáº¢I Sá»¬A NGAY (7 Lá»–I)
================================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #1. SELLER KHÃ”NG CÃ“ THá»œI Háº N 7 NGÃ€Y                                     â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: Cá»°C Ká»² NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 1.5-2.0                  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Seller cÃ³ thá»i háº¡n 7 ngÃ y, háº¿t háº¡n khÃ´ng cho táº¡o sáº£n pháº©m má»›i

THIáº¾U:
  â€¢ models/User.js - KhÃ´ng cÃ³ field sellerStartDate, sellerEndDate
  â€¢ routes/admin/seller-requests.route.js - Approve khÃ´ng set thá»i háº¡n
  â€¢ Middleware kiá»ƒm tra seller cÃ²n háº¡n khi táº¡o sáº£n pháº©m

Cáº¦N LÃ€M:
  âœ“ ThÃªm sellerStartDate, sellerEndDate vÃ o User model
  âœ“ Update logic approve: set startDate=now, endDate=now+7days
  âœ“ Táº¡o middleware seller-active.mdw.js kiá»ƒm tra cÃ²n háº¡n
  âœ“ Ãp dá»¥ng middleware vÃ o POST /seller/products/create

THá»œI GIAN: 2-3 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #2. BUY NOW KHÃ”NG CÃ“ LOGIC Xá»¬ LÃ                                        â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 1.0-1.5                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Click "Mua ngay" â†’ káº¿t thÃºc Ä‘áº¥u giÃ¡, auto-trigger khi max_bid >= buy_now

THIáº¾U:
  â€¢ models/Product.js - KhÃ´ng cÃ³ status 'sold'
  â€¢ routes/product.route.js - KhÃ´ng cÃ³ POST /products/:id/buy-now
  â€¢ services/bid.service.js - KhÃ´ng check max_bid >= buyNowPrice
  â€¢ views/vwProducts/detail.handlebars - KhÃ´ng cÃ³ nÃºt "Mua Ngay"

Cáº¦N LÃ€M:
  âœ“ ThÃªm 'sold' vÃ o enum status
  âœ“ Táº¡o route POST /products/:id/buy-now
  âœ“ ThÃªm logic auto-trigger trong placeBid()
  âœ“ ThÃªm nÃºt "Buy Now" vÃ o product detail

THá»œI GIAN: 3-4 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #3. AUTO-BID LOGIC SAI CÃ”NG THá»¨C                                        â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.8-1.2                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Auto-bid dÃ¹ng min(bidAmount, maxA) KHÃ”NG Cá»˜NG step

SAI: 
  â€¢ services/bid.service.js line 185
  â€¢ autoBidAmount = min(bidAmount + step, maxA) âŒ

ÄÃšNG:
  â€¢ autoBidAmount = min(bidAmount, maxA) âœ…

Cáº¦N LÃ€M:
  âœ“ Sá»­a cÃ´ng thá»©c auto-bid bá» "+ product.stepPrice"

THá»œI GIAN: 30 phÃºt

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #4. RATING < 80% KHÃ”NG HIá»‚N THá»Š Cáº¢N BÃO TRÆ¯á»šC                           â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.8-1.0                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Khi xem sáº£n pháº©m, náº¿u rating < 80% â†’ áº¨N nÃºt bid, hiá»ƒn thá»‹ cáº£nh bÃ¡o

HIá»†N Táº I:
  â€¢ Chá»‰ check khi click bid â†’ alert sau
  â€¢ Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng kÃ©m

Cáº¦N LÃ€M:
  âœ“ routes/product.route.js - TÃ­nh rating cá»§a user
  âœ“ Pass canBid, ratingMessage vÃ o view
  âœ“ views/vwProducts/detail.handlebars - áº¨N nÃºt bid náº¿u !canBid
  âœ“ Hiá»ƒn thá»‹: "âš ï¸ This product requires at least 80% rating to bid"

THá»œI GIAN: 1-2 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #5. Q&A KHÃ”NG CÃ“ GIAO DIá»†N REPLY VÃ€ EMAIL                               â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.5-0.8                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: 
  â€¢ Giao diá»‡n Q&A kiá»ƒu Facebook reply (nested)
  â€¢ Email seller khi cÃ³ cÃ¢u há»i má»›i (cÃ³ link sáº£n pháº©m)

THIáº¾U:
  â€¢ views/vwProducts/detail.handlebars - UI flat, khÃ´ng nested
  â€¢ utils/email.js - sendNewQuestionEmail khÃ´ng cÃ³ link sáº£n pháº©m

Cáº¦N LÃ€M:
  âœ“ Cáº£i thiá»‡n UI Q&A: hiá»ƒn thá»‹ cÃ¢u há»i â†’ answer bÃªn dÆ°á»›i indent
  âœ“ ThÃªm icon ngÆ°á»i há»i/tráº£ lá»i
  âœ“ Email template thÃªm link: "View product: http://..."
  âœ“ ThÃªm nÃºt "Reply" inline

THá»œI GIAN: 2-3 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #6. KHÃ”NG CÃ“ CHá»¨C NÄ‚NG Cáº¬P NHáº¬T MAX BID                                 â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.5-0.8                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: NgÆ°á»i Ä‘ang top cÃ³ thá»ƒ Ä‘áº·t láº¡i Ä‘á»ƒ tÄƒng max bid

THIáº¾U:
  â€¢ services/bid.service.js - placeBid() khÃ´ng xá»­ lÃ½ case bidder == topBidder
  â€¢ UI khÃ´ng cÃ³ nÃºt "Update Max Bid" cho top bidder

Cáº¦N LÃ€M:
  âœ“ ThÃªm logic: IF bidderId == topBidder._id â†’ chá»‰ update maxBidAmount
  âœ“ views/vwBidder/bid.handlebars - hiá»ƒn thá»‹ current max bid
  âœ“ Cho phÃ©p nháº­p max bid má»›i cao hÆ¡n

THá»œI GIAN: 1-2 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #7. HOME PAGE TOP 5 CHá»ˆ Láº¤Y ACTIVE                                      â”ƒ
â”ƒ ğŸ”´ Má»©c Ä‘á»™: NGHIÃŠM TRá»ŒNG | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.4-0.6                         â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: 
  â€¢ "Most Bids" vÃ  "Highest Price" nÃªn hiá»ƒn thá»‹ Cáº¢ ended
  â€¢ Äá»ƒ ngÆ°á»i dÃ¹ng tháº¥y Ä‘Æ°á»£c sáº£n pháº©m hot Ä‘Ã£ káº¿t thÃºc

HIá»†N Táº I:
  â€¢ services/product.service.js 
  â€¢ getTopMostBids() vÃ  getTopHighestPrice() filter { status: 'active' }

Cáº¦N LÃ€M:
  âœ“ getTopMostBids() - Bá» filter status (láº¥y cáº£ ended)
  âœ“ getTopHighestPrice() - Bá» filter status (láº¥y cáº£ ended)
  âœ“ Hoáº·c: { status: { $in: ['active', 'ended'] } }

THá»œI GIAN: 15 phÃºt

================================================================================
PHáº¦N 2: Lá»–I MEDIUM - NÃŠN Sá»¬A (9 Lá»–I)
================================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #8. MIN BID PRICE SAI KHI CHÆ¯A CÃ“ BID                                   â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.3-0.5                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: 
  â€¢ Khi chÆ°a cÃ³ ai bid â†’ min bid = start_price
  â€¢ Khi Ä‘Ã£ cÃ³ bid â†’ min bid = current_price + step_price

HIá»†N Táº I:
  â€¢ routes/bidder/bid.route.js line 23
  â€¢ minBidAmount = product.currentPrice + product.stepPrice
  â€¢ LUÃ”N LUÃ”N cá»™ng stepPrice (SAI khi chÆ°a cÃ³ bid)

VÃ Dá»¤ SAI:
  â€¢ Product: startPrice = 100, stepPrice = 10
  â€¢ ChÆ°a cÃ³ ai bid â†’ currentPrice = 100
  â€¢ minBidAmount = 100 + 10 = 110 âŒ SAI!
  â€¢ ÄÃšNG PHáº¢I LÃ€: minBidAmount = 100 (startPrice)

Cáº¦N LÃ€M:
  âœ“ routes/bidder/bid.route.js - Sá»­a logic tÃ­nh minBidAmount
    ```javascript
    const topBid = await bidService.getTopBidder(product._id);
    
    let minBidAmount;
    if (!topBid) {
      // ChÆ°a cÃ³ ai bid â†’ min = start price
      minBidAmount = product.startPrice;
    } else {
      // ÄÃ£ cÃ³ bid â†’ min = current + step
      minBidAmount = product.currentPrice + product.stepPrice;
    }
    ```
  
  âœ“ services/bid.service.js - Sá»­a validation tÆ°Æ¡ng á»©ng
    ```javascript
    const topBid = await getTopBidder(productId);
    const minBidAmount = topBid 
      ? product.currentPrice + product.stepPrice
      : product.startPrice;
    
    if (bidAmount < minBidAmount) {
      throw new Error(`Minimum bid is ${minBidAmount}`);
    }
    ```

THá»œI GIAN: 30 phÃºt

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #9. FILTER CATEGORY CHA KHÃ”NG HIá»†N Sáº¢N PHáº¨M CON                         â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.3-0.5                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Khi filter theo category cha â†’ hiá»ƒn thá»‹ cáº£ sáº£n pháº©m cá»§a category con

VÃ Dá»¤:
  â€¢ Category: Electronics (ID: 1)
    - Subcategory: Laptops (ID: 2, parentId: 1)
    - Subcategory: Phones (ID: 3, parentId: 1)
  â€¢ Khi user click "Electronics" â†’ hiá»‡n Cáº¢ sáº£n pháº©m Laptops + Phones

HIá»†N Táº I:
  â€¢ services/product.service.js - findByCategory(categoryId)
  â€¢ Chá»‰ query: Product.find({ categoryId })
  â€¢ KHÃ”NG láº¥y sáº£n pháº©m cá»§a category con

Cáº¦N LÃ€M:
  âœ“ services/category.service.js - Táº¡o hÃ m getAllChildCategories(parentId)
    ```javascript
    export async function getAllChildCategories(parentId) {
      const children = await Category.find({ parentId });
      let allIds = [parentId];
      
      for (const child of children) {
        const subChildren = await getAllChildCategories(child._id);
        allIds = [...allIds, ...subChildren];
      }
      
      return allIds;
    }
    ```
  
  âœ“ services/product.service.js - Sá»­a findByCategory()
    ```javascript
    export async function findByCategory(categoryId, page = 1, limit = 10) {
      // Láº¥y táº¥t cáº£ category IDs (bao gá»“m cáº£ con)
      const categoryIds = await categoryService.getAllChildCategories(categoryId);
      
      // Query vá»›i $in
      const total = await Product.countDocuments({ 
        categoryId: { $in: categoryIds }, 
        status: 'active' 
      });
      
      const items = await Product.find({ 
        categoryId: { $in: categoryIds }, 
        status: 'active' 
      })
        .populate('categoryId', 'name')
        .populate('sellerId', 'name')
        .sort({ createdAt: -1 })
        .skip(skip)
        .limit(limit);
      
      // ... rest of code
    }
    ```

THá»œI GIAN: 1-2 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #10. ADMIN CONFIG KHÃ”NG CÃ“ UI                                           â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.3-0.5                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Thá»i gian gia háº¡n pháº£i cáº¥u hÃ¬nh Ä‘Æ°á»£c, khÃ´ng hard-code

HIá»†N Táº I: DÃ¹ng .env (cháº¥p nháº­n Ä‘Æ°á»£c nhÆ°ng khÃ´ng tá»‘i Æ°u)

Cáº¦N LÃ€M:
  âœ“ Option 1 (nhanh): Document .env trong README
  âœ“ Option 2 (tá»‘t): Táº¡o model Config, UI admin config

THá»œI GIAN: 10 phÃºt (option 1) hoáº·c 2 giá» (option 2)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #11. SELLER CANCEL TRANSACTION KHÃ”NG AUTO-RATE                          â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.2-0.4                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Khi seller cancel â†’ tá»± Ä‘á»™ng rate -1 cho winner

THIáº¾U:
  â€¢ routes/checkout.route.js - POST /:id/cancel
  â€¢ Logic auto-rate -1

Cáº¦N LÃ€M:
  âœ“ Táº¡o route cancel transaction
  âœ“ Check step < 2 (chÆ°a confirm payment)
  âœ“ Auto create rating -1

THá»œI GIAN: 1-2 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #12. allowNonRatedBidders VALIDATION THIáº¾U                              â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.3-0.5                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Logic validate bidder chÆ°a Ä‘Ãºng hoÃ n toÃ n

SAI:
  â€¢ services/bid.service.js - validateBidder() check rating.total > 0
  â€¢ NÃªn tÃ¡ch riÃªng case total === 0

Cáº¦N LÃ€M:
  âœ“ Refactor validateBidder() logic rÃµ rÃ ng hÆ¡n

THá»œI GIAN: 30 phÃºt

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #13. ENDED AUCTION UI KHÃ”NG CÃ“ EMPTY STATE                              â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.1-0.2                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Khi khÃ´ng cÃ³ ended auction â†’ hiá»ƒn thá»‹ thÃ´ng bÃ¡o Ä‘áº¹p

HIá»†N Táº I:
  â€¢ views/vwSeller/products/ended.handlebars cÃ³ empty state âœ…
  â€¢ NhÆ°ng cáº§n cáº£i thiá»‡n icon/message

Cáº¦N LÃ€M:
  âœ“ ThÃªm icon Ä‘áº¹p hÆ¡n
  âœ“ Message gá»£i Ã½: "Your ended auctions will appear here"

THá»œI GIAN: 15 phÃºt

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #14. BID HISTORY UI Bá»Š HÆ¯ KHÃ”NG XEM ÄÆ¯á»¢C                                â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.2-0.3                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: User cÃ³ thá»ƒ xem lá»‹ch sá»­ Ä‘áº¥u giÃ¡ cá»§a sáº£n pháº©m

HIá»†N Táº I:
  â€¢ CÃ³ route: GET /products/:id/bid-history
  â€¢ CÃ³ view: views/vwProducts/bid-history.handlebars
  â€¢ NHÆ¯NG: UI bá»‹ hÆ°, khÃ´ng render Ä‘Ãºng hoáº·c thiáº¿u data

Váº¤N Äá»€ CÃ“ THá»‚:
  â”œâ”€ Route khÃ´ng fetch Ä‘á»§ data (bids, product info)
  â”œâ”€ View template lá»—i syntax
  â”œâ”€ KhÃ´ng populate thÃ´ng tin bidder
  â””â”€ KhÃ´ng xá»­ lÃ½ empty state (chÆ°a cÃ³ bid)

Cáº¦N LÃ€M:
  âœ“ Kiá»ƒm tra routes/product.route.js - GET /:id/bid-history
    ```javascript
    6outer.get('/:id/bid-history', async function (req, res) {
      const product = await productService.findById(req.params.id);
      const bids = await bidService.findByProductId(req.params.id);
      
      // Mask bidder names
      const maskedBids = bids.map(bid => ({
        ...bid,
        bidderName: maskBidderName(bid.bidderId.name)
      }));
      
      res.render('vwProducts/bid-history', {
        product,
        bids: maskedBids
      });
    });
    ```
  
  âœ“ Kiá»ƒm tra views/vwProducts/bid-history.handlebars
    - Fix syntax errors náº¿u cÃ³
    - ThÃªm empty state: {{#if bids.length}} ... {{else}} No bids yet {{/if}}
    - Hiá»ƒn thá»‹: bidder name (masked), bid amount, timestamp
  
  âœ“ Test: Truy cáº­p /products/[product-id]/bid-history
7
THá»œI GIAN: 1 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #15. Há»’ SÆ  CÃ NHÃ‚N THIáº¾U THÃ”NG TIN                                      â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.3-0.5                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Trang profile cáº§n Ä‘áº§y Ä‘á»§ thÃ´ng tin quáº£n lÃ½

HIá»†N Táº I:
  â€¢ CÃ³ views/vwAccount/profile.handlebars âœ…
  â€¢ NhÆ°ng thiáº¿u má»™t sá»‘ thÃ´ng tin:
    8 Rating percentage (khÃ´ng hiá»ƒn thá»‹ rÃµ)
    - Seller expiration date (náº¿u lÃ  seller)
    - Statistics (total bids, won auctions)

Cáº¦N LÃ€M:
  âœ“ routes/account.route.js - tÃ­nh thÃªm stats
  âœ“ views/vwAccount/profile.handlebars - hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§

THá»œI GIAN: 1-2 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #14. KHÃ”NG Há»– TRá»¢ CHá»ˆ CHá»ŒN 1 LOáº I Äáº¤U GIÃ                              â”ƒ
â”ƒ ğŸŸ¡ Má»©c Ä‘á»™: TRUNG BÃŒNH | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.2-0.3                           â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Theo Ä‘á» chá»‰ cáº§n chá»n auto-bid HOáº¶C regular bid (khÃ´ng cáº§n cáº£ 2)

HIá»†N Táº I:
  â€¢ Äang support cáº£ auto-bid VÃ€ regular bid
  â€¢ GÃ¢y phá»©c táº¡p khÃ´ng cáº§n thiáº¿t

KHUYáº¾N NGHá»Š:
  âœ“ GIá»® NGUYÃŠN auto-bid (Ä‘Ã£ lÃ m tá»‘t)
  âœ“ Bá» option regular bid Ä‘i
  âœ“ LuÃ´n báº¯t buá»™c nháº­p max_bid_amount
  âœ“20Æ¡n giáº£n hÃ³a UI bid form

THá»œI GIAN: 1 giá»

================================================================================
PHáº¦N 3: Lá»–I LOW - Cáº¢I THIá»†N (4 Lá»–I)
================================================================================

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #15. BLOCK TOP BIDDER KHÃ”NG REVERT                                      â”ƒ
â”ƒ ğŸŸ¢ Má»©c Ä‘á»™: NHáº¸ | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.2-0.3                                  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Khi block bidder Ä‘ang top â†’ revert vá» bid #2

Cáº¦N LÃ€M:
  âœ“ services/bid.service.js - blockBidder() check if top
  âœ“ Update current_price vá» bid #2

THá»œI GIAN: 1 giá»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #18. THIáº¾U VALIDATION Táº O Sáº¢N PHáº¨M                                      â”ƒ
â”ƒ ğŸŸ¢ Má»©c Ä‘á»™: NHáº¸ | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.1-0.2                                  â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: endTime pháº£i > startTime Ã­t nháº¥t 1 ngÃ y

Cáº¦N LÃ€M:
  âœ“ routes/seller/product.route.js - POST / validation
    ```javascript
    const startTime = new Date(req.body.startTime);
    const endTime = new Date(req.body.endTime);
    const diffMs = endTime - startTime;
    const diffDays = diffMs / (1000 * 60 * 60 * 24);
    
    if (diffDays < 1) {
      return res.render('vwSeller/products/create', {
        error: 'Auction must last at least 1 day'
      });
    }
    ```

THá»œI GIAN: 30 phÃºt

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #19. THIáº¾U EMAIL OUTBID                                                 â”ƒ
â”ƒ ğŸŸ¢ Má»©c Ä‘á»™: NHáº¸ | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.1                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Email khi bá»‹ outbid

HIá»†N Táº I: KhÃ´ng cÃ³ email khi bid bá»‹ vÆ°á»£t

Cáº¦N LÃ€M:
  âœ“ services/bid.service.js - createBid() send email to previous top
    ```javascript
    const previousTop = await getTopBidder(productId);
    if (previousTop) {
      await emailService.sendOutbidNotification(
        previousTop.bidderId.email,
        product.name,
        newBid.bidAmount
      );
    }
    ```

THá»œI GIAN: 30 phÃºt

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ #20. HOME PAGE CATEGORY NULL CHECK                                      â”ƒ
â”ƒ ğŸŸ¢ Má»©c Ä‘á»™: NHáº¸ | ğŸ”´ Máº¥t Ä‘iá»ƒm: 0.1                                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

YÃŠU Cáº¦U: Check categoryId trÆ°á»›c khi hiá»ƒn thá»‹ categoryId.name

Cáº¦N LÃ€M:
  âœ“ views/home.handlebars - {{#if categoryId}}

THá»œI GIAN: 15 phÃºt

================================================================================
PHáº¦N 4: Káº¾ HOáº CH Sá»¬A Lá»–I THEO THá»¨ Tá»° Æ¯U TIÃŠN
================================================================================

NGÃ€Y 1 (6-8 giá»):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. â­â­â­ [30m] #3 - Auto-bid formula fix
2. â­â­â­ [15m] #7 - Home page top 5 bá» filter active
3. â­â­â­ [15m] #18 - Home page category null check
4. â­â­â­ [2-3h] #1 - Seller 7-day expiration
5. â­â­â­ [1-2h] #4 - Rating validation hiá»ƒn thá»‹ trÆ°á»›c

NGÃ€Y 2 (6-8 giá»):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
6. â­â­â­ [3-4h] #2 - Buy now functionality
7. â­â­â­ [2-3h] #5 - Q&A UI + email vá»›i link
8. â­â­ [1-2h] #6 - Update max bid

NGÃ€Y 3 (4-6 giá»):
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
9. â­â­ [1-2h] #8 - Category filter cha + con
10. â­â­ [10m] #9 - Document .env config
11. â­â­ [1-2h] #10 - Seller cancel transaction
12. â­â­ [1-2h] #13 - Profile page cáº£i thiá»‡n
13. â­ [30m] #11 - Validation bidder
14. â­ [30m] #16 - Validation táº¡o sáº£n pháº©m
15. â­ [15m] #12 - Ended auction empty state

Náº¾U CÃ’N THá»œI GIAN:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
16. â­ [1h] #14 - Simplify: chá»‰ giá»¯ auto-bid
17. â­ [1h] #15 - Block bidder revert
18. â­ [30m] #17 - Outbid email

================================================================================
Tá»”NG Káº¾T
================================================================================

ğŸ“Œ Æ¯U TIÃŠN TUYá»†T Äá»I (NGÃ€Y 1):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… #3 - Auto-bid formula (30 phÃºt) - Dá»„ NHáº¤T, LÃ€M NGAY
âœ… #1 - Seller expiration (2-3 giá») - QUAN TRá»ŒNG NHáº¤T
âœ… #4 - Rating validation UI (1-2 giá») - UX Tá»T HÆ N
âœ… #78 - Category null check (15 phÃºt) - NHANH

ğŸ’¡ LÆ¯U Ã QUAN TRá»ŒNG:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ KhÃ´ng lÃ m auto-bid máº¥t 1-1.5 Ä‘iá»ƒm â†’ ÄÃƒ LÃ€M âœ… (chá»‰ cáº§n fix formula)
â€¢ KhÃ´ng seller expiration máº¥t 1.5-2.0 Ä‘iá»ƒm â†’ Æ¯U TIÃŠN #1
â€¢ KhÃ´ng buy now máº¥t 1.0-1.5 Ä‘iá»ƒm â†’ Æ¯U TIÃŠN #2
â€¢ Category filter cha/con máº¥t 0.3-0.5 Ä‘iá»ƒm â†’ Æ¯U TIÃŠN #3 (NGÃ€Y 3)
â€¢ Git commit thÆ°á»ng xuyÃªn Ä‘á»ƒ trÃ¡nh bá»‹ Ä‘Ã¡nh giÃ¡ tháº¥p
â€¢ Test ká»¹ sau má»—i thay Ä‘á»•i

ğŸ¯ Má»¤C TIÃŠU:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Sá»­a 11 lá»—i Ä‘áº§u (critical + medium) â†’ Giáº£m máº¥t Ä‘iá»ƒm xuá»‘ng ~2.0-3.5â”â”â”â”â”â”â”
Sá»­a 10 lá»—i Ä‘áº§u (critical + medium) â†’ Giáº£m máº¥t Ä‘iá»ƒm xuá»‘ng ~2.0-3.0
Thá»i gian cáº§n: 2-3 ngÃ y lÃ m viá»‡c táº­p trung

================================================================================
Káº¾T THÃšC DANH SÃCH
================================================================================
