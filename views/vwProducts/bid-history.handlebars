<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="mb-8">
    <h1 class="text-[36px] font-semibold text-gray-900 mb-2">Bid History</h1>
    <p class="text-gray-600">{{product.name}}</p>
    <a
      href="/products/{{product._id}}"
      class="text-blue-600 hover:underline mt-2 inline-block"
    >
      ‚Üê Back to Product
    </a>
  </div>
  {{#if bids.length}}
    <div class="bg-white rounded-3xl shadow-[0_4px_20px_rgba(0,0,0,0.08)] border border-gray-200/60 overflow-hidden">
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead>
            <tr class="border-b border-gray-200">
              <th class="text-left py-4 px-6 text-gray-900 font-semibold">Date & Time</th>
              <th class="text-left py-4 px-6 text-gray-900 font-semibold">Bidder</th>
              <th class="text-right py-4 px-6 text-gray-900 font-semibold">Bid Amount</th>
              <th class="text-center py-4 px-6 text-gray-900 font-semibold">Auto Bid</th>
              {{#if isSeller}}
                <th class="text-center py-4 px-6 text-gray-900 font-semibold">Action</th>
              {{/if}}
            </tr>
          </thead>
          <tbody>
            {{#each bids}}
              <tr class="border-b border-gray-100 hover:bg-gray-50 transition-colors {{#if (isBlocked @root.product.blockedBidders bidderId._id)}}opacity-50{{/if}}">
                <td class="py-4 px-6 text-gray-600">
                  {{formatDate createdAt}}
                </td>
                <td class="py-4 px-6 text-gray-900 font-medium">
                  {{bidderId.name}}
                  {{#if (isBlocked @root.product.blockedBidders bidderId._id)}}
                    <span class="ml-2 inline-block px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium">
                      Blocked
                    </span>
                  {{/if}}
                </td>
                <td class="py-4 px-6 text-right text-blue-600 font-bold text-lg">
                  ${{format_currency bidAmount}}
                </td>
                <td class="py-4 px-6 text-center">
                  {{#if isAutoBid}}
                    <span class="inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium">
                      Auto
                    </span>
                  {{else}}
                    <span class="inline-block px-3 py-1 bg-gray-100 text-gray-600 rounded-full text-xs font-medium">
                      Manual
                    </span>
                  {{/if}}
                </td>
                {{#if ../isSeller}}
                  <td class="py-4 px-6 text-center">
                    {{#unless (isBlocked @root.product.blockedBidders bidderId._id)}}
                      <form
                        method="post"
                        action="/seller/products/{{@root.product._id}}/block/{{bidderId._id}}"
                        onsubmit="return confirm('Are you sure you want to block this bidder?');"
                      >
                        <button
                          type="submit"
                          class="px-4 py-2 bg-red-600 text-white text-sm rounded-xl hover:bg-red-700 transition-colors font-medium"
                        >
                          Block
                        </button>
                      </form>
                    {{else}}
                      <span class="text-gray-400 text-sm">Already Blocked</span>
                    {{/unless}}
                  </td>
                {{/if}}
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  {{else}}
    <div class="bg-white rounded-3xl shadow-[0_4px_20px_rgba(0,0,0,0.08)] border border-gray-200/60 p-12 text-center">
      <i class="fas fa-gavel text-gray-400 text-6xl mb-4"></i>
      <p class="text-gray-600 text-lg">No bids yet. Be the first to bid!</p>
    </div>
  {{/if}}
</div>

