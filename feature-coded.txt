================================================================================
                    DANH SÃCH CHá»¨C NÄ‚NG ÄÃƒ ÄÆ¯á»¢C Láº¬P TRÃŒNH
                  Há»† THá»NG Äáº¤U GIÃ TRá»°C TUYáº¾N - ONLINE AUCTION
================================================================================

ğŸ“… NgÃ y: 19/12/2025
ğŸ› ï¸  Tech Stack: Express.js 5, MongoDB, Handlebars, TailwindCSS

================================================================================
ğŸ” 1. XÃC THá»°C & Báº¢O Máº¬T (AUTHENTICATION & SECURITY)
================================================================================

1.1. ÄÄƒng kÃ½ tÃ i khoáº£n (Register)
    âœ“ ÄÄƒng kÃ½ vá»›i email, password, tÃªn, ngÃ y sinh, Ä‘á»‹a chá»‰
    âœ“ Hash password vá»›i bcryptjs
    âœ“ XÃ¡c thá»±c reCAPTCHA
    âœ“ Gá»­i OTP qua email Ä‘á»ƒ xÃ¡c nháº­n
    âœ“ Máº·c Ä‘á»‹nh role = 'bidder'

1.2. XÃ¡c thá»±c OTP (OTP Verification)
    âœ“ XÃ¡c thá»±c OTP cho Ä‘Äƒng kÃ½ tÃ i khoáº£n
    âœ“ XÃ¡c thá»±c OTP cho reset máº­t kháº©u
    âœ“ Háº¿t háº¡n OTP sau má»™t thá»i gian
    âœ“ VÃ´ hiá»‡u hÃ³a OTP cÅ© khi táº¡o OTP má»›i

1.3. ÄÄƒng nháº­p (Login)
    âœ“ ÄÄƒng nháº­p vá»›i email vÃ  password
    âœ“ Kiá»ƒm tra email Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c nháº­n chÆ°a
    âœ“ Session-based authentication
    âœ“ Redirect vá» trang trÆ°á»›c Ä‘Ã³ sau khi Ä‘Äƒng nháº­p
    âœ“ Admin tá»± Ä‘á»™ng chuyá»ƒn vá» trang /admin

1.4. ÄÄƒng xuáº¥t (Logout)
    âœ“ XÃ³a session vÃ  redirect vá» trang chá»§

1.5. QuÃªn máº­t kháº©u (Forgot Password)
    âœ“ Nháº­p email Ä‘á»ƒ nháº­n OTP
    âœ“ Gá»­i OTP qua email
    âœ“ XÃ¡c nháº­n OTP
    âœ“ Äáº·t láº¡i máº­t kháº©u má»›i

1.6. Middleware báº£o máº­t
    âœ“ isAuth - Kiá»ƒm tra Ä‘Äƒng nháº­p
    âœ“ isAdmin - Kiá»ƒm tra quyá»n admin
    âœ“ isSeller - Kiá»ƒm tra quyá»n seller/admin

================================================================================
ğŸ‘¤ 2. QUáº¢N LÃ TÃ€I KHOáº¢N CÃ NHÃ‚N (ACCOUNT MANAGEMENT)
================================================================================

2.1. Xem thÃ´ng tin cÃ¡ nhÃ¢n (Profile)
    âœ“ Hiá»ƒn thá»‹ thÃ´ng tin ngÆ°á»i dÃ¹ng
    âœ“ Hiá»ƒn thá»‹ tráº¡ng thÃ¡i yÃªu cáº§u nÃ¢ng cáº¥p seller

2.2. Chá»‰nh sá»­a thÃ´ng tin (Edit Profile)
    âœ“ Cáº­p nháº­t tÃªn, ngÃ y sinh, Ä‘á»‹a chá»‰
    âœ“ Thay Ä‘á»•i email (yÃªu cáº§u xÃ¡c thá»±c OTP)
    âœ“ XÃ¡c nháº­n OTP khi Ä‘á»•i email

2.3. Äá»•i máº­t kháº©u (Change Password)
    âœ“ Nháº­p máº­t kháº©u cÅ© Ä‘á»ƒ xÃ¡c nháº­n
    âœ“ Äáº·t máº­t kháº©u má»›i

2.4. YÃªu cáº§u nÃ¢ng cáº¥p seller (Request Seller Status)
    âœ“ Bidder cÃ³ thá»ƒ yÃªu cáº§u nÃ¢ng cáº¥p lÃªn seller
    âœ“ Kiá»ƒm tra khÃ´ng cÃ³ request pending

2.5. Lá»‹ch sá»­ Ä‘áº¥u giÃ¡ (Bid History)
    âœ“ Xem danh sÃ¡ch sáº£n pháº©m Ä‘ang Ä‘áº¥u giÃ¡
    âœ“ PhÃ¢n trang
    âœ“ Chá»‰ hiá»ƒn thá»‹ sáº£n pháº©m active

2.6. Sáº£n pháº©m Ä‘Ã£ tháº¯ng (Won Items)
    âœ“ Xem danh sÃ¡ch sáº£n pháº©m Ä‘Ã£ tháº¯ng
    âœ“ PhÃ¢n trang
    âœ“ TÃ­nh toÃ¡n ngÆ°á»i tháº¯ng dá»±a trÃªn bid cao nháº¥t

2.7. ÄÃ¡nh giÃ¡ nháº­n Ä‘Æ°á»£c (Ratings Received)
    âœ“ Xem danh sÃ¡ch Ä‘Ã¡nh giÃ¡ tá»« ngÆ°á»i khÃ¡c
    âœ“ Hiá»ƒn thá»‹ thá»‘ng kÃª rating (tÃ­ch cá»±c/tiÃªu cá»±c)
    âœ“ PhÃ¢n trang

2.8. ÄÃ¡nh giÃ¡ ngÆ°á»i bÃ¡n (Rate Seller)
    âœ“ Bidder Ä‘Ã¡nh giÃ¡ seller sau khi tháº¯ng
    âœ“ Rating: +1 (tÃ­ch cá»±c) hoáº·c -1 (tiÃªu cá»±c)
    âœ“ CÃ³ thá»ƒ thÃªm comment

================================================================================
ğŸ  3. TRANG CHá»¦ & DANH SÃCH Sáº¢N PHáº¨M (HOME & PRODUCT LISTING)
================================================================================

3.1. Trang chá»§ (Home)
    âœ“ Top 5 sáº£n pháº©m sáº¯p káº¿t thÃºc (Ending Soon)
    âœ“ Top 5 sáº£n pháº©m cÃ³ nhiá»u bid nháº¥t (Most Bids)
    âœ“ Top 5 sáº£n pháº©m giÃ¡ cao nháº¥t (Highest Price)

3.2. Danh sÃ¡ch sáº£n pháº©m (Product List)
    âœ“ Xem táº¥t cáº£ sáº£n pháº©m
    âœ“ Lá»c theo category
    âœ“ PhÃ¢n trang (6 items/trang)

3.3. Chi tiáº¿t sáº£n pháº©m (Product Detail)
    âœ“ Hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ thÃ´ng tin sáº£n pháº©m
    âœ“ Hiá»ƒn thá»‹ giÃ¡ hiá»‡n táº¡i (current price)
    âœ“ Hiá»ƒn thá»‹ thá»i gian káº¿t thÃºc
    âœ“ Hiá»ƒn thá»‹ relative time náº¿u cÃ²n < 3 ngÃ y
    âœ“ Hiá»ƒn thá»‹ mÃ´ táº£ ban Ä‘áº§u
    âœ“ Hiá»ƒn thá»‹ mÃ´ táº£ Ä‘Æ°á»£c append (vá»›i timestamp)
    âœ“ Hiá»ƒn thá»‹ danh sÃ¡ch cÃ¢u há»i & cÃ¢u tráº£ lá»i
    âœ“ Kiá»ƒm tra sáº£n pháº©m cÃ³ trong watchlist khÃ´ng

3.4. Lá»‹ch sá»­ Ä‘áº·t giÃ¡ (Bid History)
    âœ“ Xem danh sÃ¡ch táº¥t cáº£ bid cá»§a sáº£n pháº©m
    âœ“ Sáº¯p xáº¿p theo giÃ¡ cao nháº¥t
    âœ“ áº¨n tÃªn bidder (chá»‰ hiá»ƒn thá»‹ ****xxx)
    âœ“ Seller xem Ä‘Æ°á»£c tÃªn Ä‘áº§y Ä‘á»§

================================================================================
ğŸ” 4. TÃŒM KIáº¾M & Lá»ŒC Sáº¢N PHáº¨M (SEARCH & FILTER)
================================================================================

4.1. TÃ¬m kiáº¿m sáº£n pháº©m (Product Search)
    âœ“ TÃ¬m kiáº¿m theo tá»« khÃ³a (text search)
    âœ“ Lá»c theo category
    âœ“ Sáº¯p xáº¿p theo: giÃ¡, thá»i gian káº¿t thÃºc, sá»‘ lÆ°á»£ng bid
    âœ“ PhÃ¢n trang (6 items/trang)
    âœ“ Hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng bid cho má»—i sáº£n pháº©m
    âœ“ ÄÃ¡nh dáº¥u sáº£n pháº©m má»›i (new badge)

================================================================================
ğŸ’° 5. Äáº¤U GIÃ (BIDDING)
================================================================================

5.1. Äáº·t giÃ¡ (Place Bid)
    âœ“ Kiá»ƒm tra auction cÃ²n active
    âœ“ Kiá»ƒm tra chÆ°a háº¿t háº¡n
    âœ“ Kiá»ƒm tra khÃ´ng pháº£i seller cá»§a sáº£n pháº©m
    âœ“ Kiá»ƒm tra khÃ´ng bá»‹ block
    âœ“ Kiá»ƒm tra rating náº¿u sáº£n pháº©m yÃªu cáº§u
    âœ“ Validate giÃ¡ tá»‘i thiá»ƒu (current price + step price)
    âœ“ Há»— trá»£ Ä‘áº·t giÃ¡ thá»§ cÃ´ng
    âœ“ Há»— trá»£ Auto-bid vá»›i max bid amount

5.2. Há»‡ thá»‘ng Auto-bid
    âœ“ Tá»± Ä‘á»™ng Ä‘áº¥u giÃ¡ khi cÃ³ ngÆ°á»i Ä‘áº¥u cao hÆ¡n
    âœ“ KhÃ´ng vÆ°á»£t quÃ¡ max bid amount
    âœ“ TÄƒng theo step price
    âœ“ ÄÃ¡nh dáº¥u bid lÃ  auto-bid

5.3. Gia háº¡n tá»± Ä‘á»™ng (Auto-extend)
    âœ“ Tá»± Ä‘á»™ng gia háº¡n náº¿u cÃ³ bid trong phÃºt cuá»‘i
    âœ“ Kiá»ƒm tra thá»i gian threshold (default: 5 phÃºt)
    âœ“ Gia háº¡n thÃªm duration (default: 10 phÃºt)

5.4. Validate ngÆ°á»i Ä‘áº¥u giÃ¡ (Bidder Validation)
    âœ“ Kiá»ƒm tra khÃ´ng bá»‹ block
    âœ“ Kiá»ƒm tra rating náº¿u sáº£n pháº©m yÃªu cáº§u rated bidders
    âœ“ TÃ­nh rating percentage tá»« tÃ­ch cá»±c/tiÃªu cá»±c

5.5. Email thÃ´ng bÃ¡o
    âœ“ Gá»­i email khi cÃ³ bid má»›i
    âœ“ Gá»­i email cho bidder bá»‹ outbid

================================================================================
â­ 6. WATCHLIST
================================================================================

6.1. ThÃªm vÃ o watchlist
    âœ“ ThÃªm sáº£n pháº©m vÃ o danh sÃ¡ch theo dÃµi
    âœ“ Kiá»ƒm tra sáº£n pháº©m tá»“n táº¡i

6.2. Xem watchlist
    âœ“ Hiá»ƒn thá»‹ danh sÃ¡ch sáº£n pháº©m Ä‘ang theo dÃµi
    âœ“ PhÃ¢n trang
    âœ“ Populate thÃ´ng tin sáº£n pháº©m

6.3. XÃ³a khá»i watchlist
    âœ“ XÃ³a sáº£n pháº©m khá»i watchlist
    âœ“ Redirect vá» watchlist hoáº·c product detail

================================================================================
â“ 7. Há»I ÄÃP Sáº¢N PHáº¨M (PRODUCT QUESTIONS)
================================================================================

7.1. NgÆ°á»i mua Ä‘áº·t cÃ¢u há»i
    âœ“ Äáº·t cÃ¢u há»i vá» sáº£n pháº©m
    âœ“ Kiá»ƒm tra sáº£n pháº©m tá»“n táº¡i
    âœ“ Gá»­i email thÃ´ng bÃ¡o cho seller

7.2. NgÆ°á»i bÃ¡n tráº£ lá»i
    âœ“ Seller tráº£ lá»i cÃ¢u há»i
    âœ“ Kiá»ƒm tra quyá»n sá»Ÿ há»¯u sáº£n pháº©m
    âœ“ Gá»­i email thÃ´ng bÃ¡o cho táº¥t cáº£ bidders

================================================================================
ğŸ›’ 8. THANH TOÃN & GIAO Dá»ŠCH (CHECKOUT & TRANSACTION)
================================================================================

8.1. Xem thÃ´ng tin giao dá»‹ch
    âœ“ Hiá»ƒn thá»‹ thÃ´ng tin sáº£n pháº©m vÃ  ngÆ°á»i tháº¯ng
    âœ“ Chá»‰ seller vÃ  winner Ä‘Æ°á»£c xem
    âœ“ Tá»± Ä‘á»™ng táº¡o transaction náº¿u chÆ°a cÃ³

8.2. NgÆ°á»i mua thanh toÃ¡n (Payment)
    âœ“ Submit payment proof (link áº£nh)
    âœ“ Nháº­p Ä‘á»‹a chá»‰ giao hÃ ng
    âœ“ Cáº­p nháº­t tráº¡ng thÃ¡i: payment_submitted

8.3. NgÆ°á»i bÃ¡n xÃ¡c nháº­n thanh toÃ¡n
    âœ“ XÃ¡c nháº­n Ä‘Ã£ nháº­n tiá»n
    âœ“ Nháº­p tracking number vÃ  carrier
    âœ“ Cáº­p nháº­t tráº¡ng thÃ¡i: payment_confirmed

8.4. NgÆ°á»i mua xÃ¡c nháº­n nháº­n hÃ ng
    âœ“ XÃ¡c nháº­n Ä‘Ã£ nháº­n hÃ ng
    âœ“ Cáº­p nháº­t tráº¡ng thÃ¡i: delivered

================================================================================
ğŸª 9. SELLER - QUáº¢N LÃ Sáº¢N PHáº¨M (SELLER PRODUCT MANAGEMENT)
================================================================================

9.1. Danh sÃ¡ch sáº£n pháº©m cá»§a seller
    âœ“ Xem táº¥t cáº£ sáº£n pháº©m Ä‘ang bÃ¡n
    âœ“ PhÃ¢n trang (10 items/trang)

9.2. Danh sÃ¡ch sáº£n pháº©m Ä‘Ã£ káº¿t thÃºc
    âœ“ Xem sáº£n pháº©m Ä‘Ã£ ended
    âœ“ Hiá»ƒn thá»‹ thÃ´ng tin winner
    âœ“ Hiá»ƒn thá»‹ tráº¡ng thÃ¡i Ä‘Ã£ Ä‘Ã¡nh giÃ¡ chÆ°a
    âœ“ PhÃ¢n trang

9.3. Táº¡o sáº£n pháº©m má»›i (Create Product)
    âœ“ Nháº­p thÃ´ng tin Ä‘áº§y Ä‘á»§
    âœ“ YÃªu cáº§u Ã­t nháº¥t 3 hÃ¬nh áº£nh
    âœ“ Chá»n category (subcategory)
    âœ“ Äáº·t giÃ¡ khá»Ÿi Ä‘iá»ƒm, giÃ¡ bÆ°á»›c, giÃ¡ mua ngay
    âœ“ Äáº·t thá»i gian káº¿t thÃºc
    âœ“ TÃ¹y chá»n auto-extend
    âœ“ TÃ¹y chá»n allow non-rated bidders
    âœ“ Validate thá»i gian káº¿t thÃºc pháº£i trong tÆ°Æ¡ng lai

9.4. ThÃªm mÃ´ táº£ sáº£n pháº©m (Append Description)
    âœ“ ThÃªm mÃ´ táº£ bá»• sung
    âœ“ LÆ°u timestamp
    âœ“ Kiá»ƒm tra quyá»n sá»Ÿ há»¯u

9.5. Cháº·n ngÆ°á»i Ä‘áº¥u giÃ¡ (Block Bidder)
    âœ“ ThÃªm bidder vÃ o blocklist
    âœ“ Kiá»ƒm tra quyá»n sá»Ÿ há»¯u sáº£n pháº©m

9.6. ÄÃ¡nh giÃ¡ ngÆ°á»i mua (Rate Bidder)
    âœ“ Seller Ä‘Ã¡nh giÃ¡ bidder sau khi káº¿t thÃºc
    âœ“ Rating: +1 (tÃ­ch cá»±c) hoáº·c -1 (tiÃªu cá»±c)
    âœ“ CÃ³ thá»ƒ thÃªm comment

9.7. Há»§y giao dá»‹ch (Cancel Transaction)
    âœ“ Seller Ä‘Ã¡nh giÃ¡ -1 cho bidder khÃ´ng thanh toÃ¡n
    âœ“ Comment máº·c Ä‘á»‹nh: "Buyer did not complete payment"

================================================================================
ğŸ‘¨â€ğŸ’¼ 10. ADMIN - QUáº¢N LÃ NGÆ¯á»œI DÃ™NG (ADMIN USER MANAGEMENT)
================================================================================

10.1. Danh sÃ¡ch ngÆ°á»i dÃ¹ng
     âœ“ Xem táº¥t cáº£ users
     âœ“ PhÃ¢n trang (10 items/trang)

10.2. Chá»‰nh sá»­a ngÆ°á»i dÃ¹ng
     âœ“ Sá»­a tÃªn, email
     âœ“ Äá»•i role (bidder/seller/admin)

10.3. XÃ³a ngÆ°á»i dÃ¹ng
     âœ“ Kiá»ƒm tra khÃ´ng cÃ³ sáº£n pháº©m active
     âœ“ Kiá»ƒm tra khÃ´ng cÃ³ bid active
     âœ“ XÃ³a user náº¿u thá»a Ä‘iá»u kiá»‡n

================================================================================
ğŸ“ 11. ADMIN - QUáº¢N LÃ DANH Má»¤C (ADMIN CATEGORY MANAGEMENT)
================================================================================

11.1. Danh sÃ¡ch danh má»¥c
     âœ“ Xem táº¥t cáº£ categories
     âœ“ Lá»c theo parent category
     âœ“ PhÃ¢n trang (10 items/trang)

11.2. Táº¡o danh má»¥c má»›i
     âœ“ Táº¡o parent category
     âœ“ Táº¡o subcategory
     âœ“ Validate khÃ´ng thá»ƒ chá»n subcategory lÃ m parent

11.3. Chá»‰nh sá»­a danh má»¥c
     âœ“ Sá»­a tÃªn, hÃ¬nh áº£nh, mÃ´ táº£
     âœ“ Äá»•i parent category
     âœ“ Validate khÃ´ng set chÃ­nh nÃ³ lÃ m parent
     âœ“ Validate khÃ´ng convert parent cÃ³ subs thÃ nh subcategory

11.4. XÃ³a danh má»¥c
     âœ“ Kiá»ƒm tra khÃ´ng cÃ³ subcategories
     âœ“ Kiá»ƒm tra khÃ´ng cÃ³ products
     âœ“ XÃ³a náº¿u thá»a Ä‘iá»u kiá»‡n

================================================================================
ğŸ“¦ 12. ADMIN - QUáº¢N LÃ Sáº¢N PHáº¨M (ADMIN PRODUCT MANAGEMENT)
================================================================================

12.1. Danh sÃ¡ch sáº£n pháº©m
     âœ“ Xem táº¥t cáº£ products
     âœ“ Lá»c theo status (active/ended/cancelled)
     âœ“ PhÃ¢n trang (10 items/trang)

12.2. XÃ³a sáº£n pháº©m
     âœ“ Admin cÃ³ thá»ƒ xÃ³a báº¥t ká»³ sáº£n pháº©m nÃ o

================================================================================
ğŸ“ 13. ADMIN - QUáº¢N LÃ YÃŠU Cáº¦U SELLER (SELLER REQUEST MANAGEMENT)
================================================================================

13.1. Danh sÃ¡ch yÃªu cáº§u
     âœ“ Xem táº¥t cáº£ seller requests
     âœ“ Lá»c theo status (pending/approved/denied)
     âœ“ PhÃ¢n trang (10 items/trang)

13.2. Duyá»‡t yÃªu cáº§u (Approve)
     âœ“ Cháº¥p nháº­n request
     âœ“ NÃ¢ng role cá»§a user lÃªn 'seller'
     âœ“ LÆ°u admin Ä‘Ã£ xá»­ lÃ½

13.3. Tá»« chá»‘i yÃªu cáº§u (Deny)
     âœ“ Tá»« chá»‘i request
     âœ“ LÆ°u admin Ä‘Ã£ xá»­ lÃ½

================================================================================
âš™ï¸ 14. Há»† THá»NG Tá»° Äá»˜NG (BACKGROUND JOBS)
================================================================================

14.1. Kiá»ƒm tra auction káº¿t thÃºc
     âœ“ Cháº¡y má»—i 10 phÃºt (600 seconds)
     âœ“ TÃ¬m sáº£n pháº©m active Ä‘Ã£ háº¿t háº¡n
     âœ“ Cáº­p nháº­t status = 'ended'
     âœ“ Táº¡o transaction náº¿u cÃ³ winner
     âœ“ Gá»­i email thÃ´ng bÃ¡o káº¿t thÃºc

14.2. Email notifications
     âœ“ Email khi auction káº¿t thÃºc cÃ³ winner
     âœ“ Email khi auction káº¿t thÃºc khÃ´ng cÃ³ winner
     âœ“ Email khi cÃ³ bid má»›i
     âœ“ Email khi cÃ³ cÃ¢u há»i má»›i
     âœ“ Email khi cÃ¢u há»i Ä‘Æ°á»£c tráº£ lá»i
     âœ“ Email OTP cho Ä‘Äƒng kÃ½/reset password

================================================================================
ğŸ’ 15. TÃNH NÄ‚NG Äáº¶C BIá»†T (SPECIAL FEATURES)
================================================================================

15.1. Auto-bid System
     âœ“ Äáº·t max bid amount
     âœ“ Tá»± Ä‘á»™ng tÄƒng giÃ¡ khi bá»‹ outbid
     âœ“ KhÃ´ng vÆ°á»£t quÃ¡ max amount

15.2. Auto-extend
     âœ“ Tá»± Ä‘á»™ng gia háº¡n khi cÃ³ bid vÃ o phÃºt cuá»‘i
     âœ“ Configurable threshold vÃ  duration

15.3. Block Bidders
     âœ“ Seller cháº·n bidder cá»¥ thá»ƒ
     âœ“ Blocked bidder khÃ´ng Ä‘áº¥u giÃ¡ Ä‘Æ°á»£c

15.4. Rating System
     âœ“ Bidder Ä‘Ã¡nh giÃ¡ Seller
     âœ“ Seller Ä‘Ã¡nh giÃ¡ Bidder
     âœ“ TÃ­nh % rating tÃ­ch cá»±c
     âœ“ Háº¡n cháº¿ bidder cÃ³ rating tháº¥p

15.5. Buy Now Price
     âœ“ Äáº·t giÃ¡ mua ngay (optional)
     âœ“ Káº¿t thÃºc auction ngay khi cÃ³ ngÆ°á»i mua

15.6. Product Questions
     âœ“ Bidder Ä‘áº·t cÃ¢u há»i
     âœ“ Seller tráº£ lá»i
     âœ“ Notify táº¥t cáº£ bidders khi cÃ³ cÃ¢u tráº£ lá»i

15.7. Append Product Description
     âœ“ Seller thÃªm mÃ´ táº£ bá»• sung
     âœ“ LÆ°u timestamp cho má»—i láº§n thÃªm

15.8. Watchlist
     âœ“ Theo dÃµi sáº£n pháº©m quan tÃ¢m
     âœ“ Xem danh sÃ¡ch Ä‘ang theo dÃµi

15.9. New Product Badge
     âœ“ ÄÃ¡nh dáº¥u sáº£n pháº©m má»›i
     âœ“ Configurable highlight duration (default: 10 phÃºt)

15.10. reCAPTCHA Protection
      âœ“ Báº£o vá»‡ form Ä‘Äƒng kÃ½ khá»i bot

================================================================================
ğŸ¨ 16. GIAO DIá»†N & TRáº¢I NGHIá»†M (UI/UX)
================================================================================

16.1. Responsive Design
     âœ“ TailwindCSS styling
     âœ“ Apple-like design
     âœ“ Mobile-friendly

16.2. Layouts
     âœ“ Main layout cho ngÆ°á»i dÃ¹ng
     âœ“ Admin management layout
     âœ“ Seller management layout

16.3. Error Handling
     âœ“ Custom error middleware
     âœ“ Flash messages
     âœ“ 404 page
     âœ“ 403 page

16.4. Pagination
     âœ“ Custom pagination helper
     âœ“ Ãp dá»¥ng cho táº¥t cáº£ danh sÃ¡ch

16.5. Helpers
     âœ“ Format currency
     âœ“ Format date
     âœ“ Comparison helpers
     âœ“ String helpers
     âœ“ Math helpers

================================================================================
ğŸ—„ï¸ 17. DATABASE MODELS (MONGODB SCHEMAS)
================================================================================

17.1. User Model
     âœ“ name, email, password, dob, address
     âœ“ role (bidder/seller/admin)
     âœ“ isEmailVerified
     âœ“ timestamps

17.2. Product Model
     âœ“ name, description, images (array)
     âœ“ categoryId, sellerId
     âœ“ startPrice, stepPrice, buyNowPrice
     âœ“ autoExtend, allowNonRatedBidders
     âœ“ status (active/ended/cancelled)
     âœ“ endTime, blockedBidders
     âœ“ appendedDescriptions (array with timestamps)
     âœ“ timestamps

17.3. Bid Model
     âœ“ productId, bidderId
     âœ“ bidAmount, maxBidAmount
     âœ“ isAutoBid
     âœ“ timestamps

17.4. Category Model
     âœ“ name, img_url, description
     âœ“ parentId (for subcategories)

17.5. Watchlist Model
     âœ“ userId, productId
     âœ“ timestamps

17.6. Rating Model
     âœ“ productId, fromUserId, toUserId
     âœ“ rating (+1/-1)
     âœ“ comment, ratingType
     âœ“ timestamps

17.7. ProductQuestion Model
     âœ“ productId, askerId
     âœ“ question, answer
     âœ“ timestamps

17.8. Transaction Model
     âœ“ productId, sellerId, winnerId
     âœ“ status (pending/payment_submitted/payment_confirmed/delivered)
     âœ“ paymentProof, shippingAddress
     âœ“ trackingNumber, carrier
     âœ“ timestamps

17.9. SellerRequest Model
     âœ“ userId, status (pending/approved/denied)
     âœ“ processedBy, processedAt
     âœ“ timestamps

17.10. OTP Model
      âœ“ email, code
      âœ“ type (email_verification/password_reset)
      âœ“ expiresAt, isUsed
      âœ“ timestamps

================================================================================
ğŸ“Š 18. SERVICES & BUSINESS LOGIC
================================================================================

18.1. User Service
     âœ“ CRUD operations
     âœ“ Find by email
     âœ“ Update password
     âœ“ Update role

18.2. Product Service
     âœ“ CRUD operations
     âœ“ Find by seller, category
     âœ“ Top ending soon, most bids, highest price
     âœ“ Search & filter
     âœ“ Calculate current price
     âœ“ Append description

18.3. Bid Service
     âœ“ Place bid with validation
     âœ“ Auto-bid logic
     âœ“ Get top bidder (exclude blocked)
     âœ“ Get second highest bid
     âœ“ Block bidder
     âœ“ Validate bidder (rating check)

18.4. Category Service
     âœ“ CRUD operations
     âœ“ Find with subcategories
     âœ“ Parent dropdown
     âœ“ Count products

18.5. Watchlist Service
     âœ“ Add/remove
     âœ“ Check if in watchlist
     âœ“ Find by user

18.6. Rating Service
     âœ“ Create or update rating
     âœ“ Calculate user rating stats
     âœ“ Find by user, product

18.7. Question Service
     âœ“ Create question
     âœ“ Answer question
     âœ“ Find by product

18.8. Transaction Service
     âœ“ Create transaction
     âœ“ Submit payment
     âœ“ Confirm payment
     âœ“ Confirm delivery

18.9. SellerRequest Service
     âœ“ Create request
     âœ“ Update status
     âœ“ Find by user, status

18.10. OTP Service
      âœ“ Create OTP
      âœ“ Find valid OTP
      âœ“ Mark as used
      âœ“ Invalidate old OTPs

18.11. Search Service
      âœ“ Text search
      âœ“ Category filter
      âœ“ Sort by price/time/bids

18.12. Email Service
      âœ“ Send OTP email
      âœ“ Send auction ended email
      âœ“ Send bid placed email
      âœ“ Send question/answer emails

================================================================================
ğŸ”§ 19. UTILITIES & HELPERS
================================================================================

19.1. Database Connection
     âœ“ MongoDB connection via Mongoose
     âœ“ Connection string from .env

19.2. Email Utility
     âœ“ Nodemailer setup
     âœ“ SMTP configuration

19.3. OTP Generator
     âœ“ Generate 6-digit OTP

19.4. reCAPTCHA Verification
     âœ“ Verify reCAPTCHA token

19.5. Pagination Helper
     âœ“ Calculate pagination data

19.6. Redirect Helper
     âœ“ Save return URL

================================================================================
ğŸ¯ 20. MIDDLEWARE
================================================================================

20.1. Authentication Middleware
     âœ“ isAuth
     âœ“ isAdmin
     âœ“ isSeller

20.2. Error Handling Middleware
     âœ“ Custom error handler
     âœ“ res.error() method

20.3. Method Override
     âœ“ Support PUT/DELETE via POST

20.4. Session Management
     âœ“ Express session
     âœ“ Flash messages
     âœ“ Auth user storage

================================================================================
ğŸ“ Tá»”NG Káº¾T
================================================================================

Tá»•ng sá»‘ module chá»©c nÄƒng: 20+
Tá»•ng sá»‘ routes: 60+
Tá»•ng sá»‘ models: 10
Tá»•ng sá»‘ services: 12+
Tá»•ng sá»‘ middlewares: 3

CÃ¡c tÃ­nh nÄƒng ná»•i báº­t:
- âœ… Há»‡ thá»‘ng Ä‘áº¥u giÃ¡ tá»± Ä‘á»™ng (Auto-bid)
- âœ… Gia háº¡n tá»± Ä‘á»™ng (Auto-extend)
- âœ… Há»‡ thá»‘ng rating 2 chiá»u
- âœ… Cháº·n ngÆ°á»i Ä‘áº¥u giÃ¡
- âœ… Há»i Ä‘Ã¡p sáº£n pháº©m
- âœ… Email notifications
- âœ… reCAPTCHA protection
- âœ… OTP verification
- âœ… Transaction tracking
- âœ… Admin management panel
- âœ… Background job xá»­ lÃ½ auction káº¿t thÃºc

================================================================================
                              Káº¾T THÃšC
================================================================================
